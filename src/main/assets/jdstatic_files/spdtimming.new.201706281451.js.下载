(function(e,n){var t="spdtimming.new";if(!window.__SPD_AUTO&&window.modulejs&&typeof define=="function"){define(t,n)}else{n()}})(this,function(require,exports,e){var n=Math.random(),t="spdh5_net",o=navigator.userAgent,r=window.__DBG_SPD_RPT_URL||(window.__DBG_SPD_PRE||"//fd.3.cn/cesu")+"/r?",i=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],a=/(^|\s|;)+MicroMessenger\/([^;\s$]+)/g.exec(o),c=/(^|\s|;)+QQ\/([^;\s$]+)/g.exec(o),d=/(^|\s|;)+JZYC\/([^;\s$]+)/g.exec(o),f={android:[/(Android);?[\s\/]+([\d.]+)?/,[1,2]],ios:[/((iPad)|(iPod)|(iPhone)).*\s+OS\s+([\d_]+)/,function(e){return["ios",e[5]?e[5].replace(/_/g,"."):""]}],unknow:[/(Android);?[\s\/]+([\d.]+)?/],win:[/(\(|\s)*(Windows)[^\d.]+([\d\.]+).*((WOW64)*)/gi,[2,3]]},w={},u=S(),s=null,l=0,v=false;OS=D(o);var g=true;var p=new Date;var m=p.getMonth()+1;var h=p.getDate();if(m==6&&[16,17,18].indexOf(h)!=-1||m==11&&[10,11,12].indexOf(h)!=-1){g=Math.floor(Math.random()*10)<=1?true:false}function _(e,n,t,o,r){if(void 0==n){if(window.JD&&JD.cookie){return JD.cookie.get(e)}else{var i=document.cookie,a;if(a=new RegExp("(^|;)\\s*"+e+"=([^;$]+)").exec(document.cookie)){return a[2]}}return null}else{var i=e+"="+encodeURIComponent(n);t&&(i+=";domain="+t);o&&(i+=";path="+o);if(r){var c=new Date;c.setTime((new Date).getTime()+r*1e3);i+=";expires="+c.toGMTString()}document.cookie=i}}function k(){var e=(window.performance||window.webkitPerformance||{}).timing;if(!e){return null}return e.navigationStart||e.fetchStart}function S(){return window.screen.width+","+window.screen.height+"	"+(window.devicePixelRatio||0)+"	"}function P(e,n){if(!g){return}var t=e||window._PFM_TIMING;if((!t||t.length<1)&&i.rptStat){return}if(typeof window.athenaFdSetting=="object"){if(window.athenaFdSetting.switch!=1){var o=window.athenaFdSetting.pidWhitelist||"";var r=o.split(",");var a=r.length;var c=false;var d=t[0][0];for(var f=0;f<a;f++){if(d==r[f]){c=true;break}}if(!c){return}}}R(function(e){try{M(e,t)}catch(n){console.error(n.stack||n)}})}function E(e){e&&e();window.onunload=function(){try{b.clear();P(window._PFM_TIMING,true)}catch(e){console.error(e)}}}function D(e){var n,t;for(var o in f){t=f[o];if(t[0]instanceof Function){n=t[0](e);return o+=n[1]?" "+n[1]:""}else if(n=t[0].exec(e)){if(t.length>1){if(t[1]instanceof Function){n=t[1](n)}else if(t[1]instanceof Array){n=[n[t[1][0]],n[t[1][1]]]}}return o+=n[1]?" "+n[1]:""}}return"other"}function x(e){var n=[];for(var t in e){e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]))}return n.join("&")}function T(e){var n=new Image;window["_spd_img_cache"+l++]=n;n.idx=l;n.onload=n.onerror=n.onabort=function(e){var n=e.target;n.onload=n.onerror=n.onabort=null;delete window["_spd_img_cache"+n.idx]};n.src=e}function y(e,n){var t;t=function(){t.clear();var o;t.th=setTimeout(function(){e.apply(null,o);t.th=0},n)};t.clear=function(){if(t.th){clearTimeout(t.th);t.th=0}};return t}function R(e){if(window.JD&&JD.device){JD.device.getNetwork(e)}else{var n=/(\s|;)+NetType\/([^\s;\/]+)/g.exec(o);if(n&&n[2]){var t="unknow";n[2]=n[2].toLowerCase();switch(n[2]){case"ctnet":case"cmnet":case"cunet":s=n[2].substr(0,2);t="3g";break;case"ctwap":case"cmwap":case"cuwap":s=n[2].substr(0,2);t="2g";break;default:s=null}e(t)}else{try{if(a){document.addEventListener("WeixinJSBridgeReady",function(n){console.log("WXReady");setTimeout(function(){WeixinJSBridge.invoke("getNetworkType",{},function(n){var t=n.err_msg||"unknow";if(t.indexOf(":")!=-1){t=t.split(":")[1]||"unknow"}if(t=="edge"){t="3g"}else if(t=="wwan"){t="4g"}else if(t=="fail"){t="unknow"}e(t)})},500)})}else if(c){if(window.mqq&&mqq.device){mqq.invoke("device","getNetworkInfo",function(n){var t={"-1":"unknow",0:"unknow",1:"wifi",2:"2G",3:"3G",4:"4G"}[n.type]||"unknow";e(t)})}else{e("unknow")}}else if(d){if(window.WQAPI&&WQAPI.network){e(String(WQAPI.network.type()).toLowerCase())}else{e("unknow")}}else{e("unknow")}}catch(r){console.error("Error",r);e("unknow")}}}}function I(e){if(!e){return 0}if(e instanceof Date){return e.getTime()}return e}function M(e,t){var o=(window.performance||window.webkitPerformance).timing,a=k(),c,d=!!window.__SPD_RPT_REPEAT,f;console.log("---RptData--",t);var l=0,g=0,p,m=0,h,S=0,P=0;if(t){h=t[0];if(!h||!(h instanceof Array)){console.error("Invalide data for report",t);return}l=I(h[1]);P=h[0];S=h[2]||0}if(!l||!P){console.error("Invalide data for report",t);return}g=(window.performance||window.webkitPerformance).now()-((new Date).getTime()-l);var E={pid:P,os:OS?OS.replace(/%20/g,""):"other",apn:(e||"").toLowerCase(),wq_area:_("wq_area"),_:n=n+1};for(var D=1,y=t.length;D<y;D++){(d||!w[D])&&(p=t[D])&&(p=p-l)>0&&(E["s"+D]=p)&&(w[D]=1)&&m++;t[D]=null}if(window._PFM_PERFORMANCE==true){if(!i.rptStat){i.rptStat=1;for(D=1,y=i.length;y>D;D++){c=I(o[i[D]]),c=c?c-a:0,c>0&&(E["p"+D]=c)&&m++}E["p"+i.length]=Math.floor(g)}}if(m>0){if(!v){E["ext"]=u;v=true}s&&(E["oper"]=s);T(r+x(E))}}var b=y(P,1e3);var A={report:b};window.__SPD_RPT=A;E(function(){b()});if(typeof require=="function"&&e){e.exports=exports=A}else{return A}});